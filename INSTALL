#!/bin/bash
lnif() {
    if [ ! -e $2 ]; then
        ln -s $1 $2
    fi
}

# Path to the _dotfiles dir
dotfiles="~/.dotfiles"

# Create the symlinks
echo "Linking dotfiles"
lnif $dotfiles/_bashrc ~/.bashrc
lnif $dotfiles/_bash_profile ~/.bash_profile
lnif $dotfiles/_vimrc ~/.vimrc
lnif $dotfiles/_vim/config/ ~/.vim/config
lnif $dotfiles/_gitconfig ~/.gitconfig
lnif $dotfiles/_git_template/ ~/.git_template
lnif $dotfiles/_tmux.conf ~/.tmux.conf
lnif $dotfiles/_tmuxinator/ ~/.tmuxinator

# If vundle isn't installed then pull it down from the repo
if [ ! -d ~/.vim/bundle/Vundle.vim ]; then
    echo "Installing vundle"
    git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim
fi

# Install the vim plugins
echo "Installing vim plugins"
vim +PluginInstall +qall
